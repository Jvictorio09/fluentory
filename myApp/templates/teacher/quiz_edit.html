{% extends 'teacher/base.html' %}

{% block content %}
<div class="max-w-4xl mx-auto space-y-8 sm:space-y-10">
    <!-- Page Header with Back Button -->
    <div class="mb-8 sm:mb-10">
        <a href="{% url 'teacher_quizzes' course.id %}" class="inline-flex items-center gap-2 text-sm font-medium text-slate-600 dark:text-slate-300 hover:text-slate-900 dark:hover:text-white transition-colors w-fit mb-6">
            <i class="fas fa-arrow-left"></i>
            <span>Back to Quizzes</span>
        </a>
        <div>
            <h1 class="text-3xl sm:text-4xl lg:text-5xl font-extralight text-slate-900 dark:text-slate-50 mb-3 tracking-[-0.02em]">Edit Quiz</h1>
            <p class="text-base sm:text-lg text-slate-600 dark:text-slate-300 font-light">{{ quiz.title }}</p>
        </div>
    </div>
    
    <div class="h-px bg-gradient-to-r from-transparent via-slate-200 dark:via-white/10 to-transparent mb-8"></div>
    
    <!-- Form Card -->
    <div class="bg-white dark:bg-white/5 backdrop-blur-xl rounded-2xl border border-slate-200 dark:border-white/10 p-8 sm:p-10 shadow-sm dark:shadow-2xl">
        <form method="post" class="space-y-6">
            {% csrf_token %}
            
            <!-- Basics Section -->
            <div class="space-y-6">
                <div class="form-section-header">
                    <div class="form-section-icon">
                        <i class="fas fa-info-circle text-emerald-600 dark:text-emerald-400"></i>
                    </div>
                    <div class="flex-1">
                        <h2 class="form-section-title">Basics</h2>
                        <p class="form-section-subtitle">Essential quiz information</p>
                    </div>
                </div>
                
                <div>
                    <label class="form-label">Title</label>
                    <input type="text" name="title" value="{{ quiz.title }}" required class="form-input" placeholder="Enter quiz title">
                </div>
                
                <div>
                    <label class="form-label">Passing Score (%)</label>
                    <input type="number" name="passing_score" value="{{ quiz.passing_score }}" min="0" max="100" class="form-input" placeholder="70">
                    <p class="form-helper">Minimum percentage score required to pass the quiz (0-100)</p>
                </div>
            </div>
            
            <!-- Submit Button -->
            <div class="pt-6 border-t border-slate-200 dark:border-white/10">
                <button type="submit" class="btn-cta-primary">
                    <i class="fas fa-save"></i>
                    Update Quiz
                </button>
            </div>
        </form>
        
        <!-- Manage Questions Button (outside form to prevent accidental submission) -->
        <div class="mt-6 pt-6 border-t border-slate-200 dark:border-white/10">
            <a href="{% url 'teacher_quiz_questions' course.id quiz.id %}" class="btn-cta-primary">
                <i class="fas fa-question-circle"></i>
                Manage Questions
            </a>
        </div>
    </div>
</div>
{% endblock %}
