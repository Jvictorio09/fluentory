{% extends 'partner/base.html' %}

{% block content %}
<div class="w-full space-y-6 sm:space-y-8">
    <div class="mb-6 sm:mb-8">
        <h1 class="text-2xl sm:text-3xl font-bold text-white mb-2">
            Marketing Assets
        </h1>
        <p class="text-sm sm:text-base text-white/60">
            {% if is_preview_mode %}Platform-wide marketing assets (read-only preview){% else %}Access your promo codes and marketing materials{% endif %}
        </p>
    </div>
    
    {% if is_preview_mode %}
    <div class="mb-4 p-4 bg-blue-500/20 border border-blue-500/50 rounded-lg">
        <div class="flex items-center gap-2 text-blue-200">
            <i class="fas fa-info-circle"></i>
            <span class="font-medium">Preview Mode: Showing platform-wide marketing assets (read-only)</span>
        </div>
    </div>
    {% endif %}
    
    <!-- Promo Codes -->
    <div class="bg-[#04363a]/50 backdrop-blur-sm rounded-xl p-6 sm:p-8 border border-white/10 shadow-lg">
        <div class="flex flex-col sm:flex-row items-start sm:items-center justify-between gap-4 mb-6">
            <h2 class="text-lg sm:text-xl font-bold text-white flex items-center gap-2">
                <i class="fas fa-ticket-alt text-[#82C293]"></i>
                Promo Codes
            </h2>
            {% if not is_preview_mode %}
            <button class="w-full sm:w-auto px-5 py-3 bg-gradient-to-r from-[#00655F] to-[#82C293] text-white rounded-lg text-sm font-medium hover:opacity-90 transition">
                <i class="fas fa-plus mr-2"></i>Create Promo Code
            </button>
            {% endif %}
        </div>
        
        {% if cohorts %}
        <div class="space-y-4">
            {% for cohort in cohorts %}
            <div class="bg-[#254346]/50 p-5 rounded-lg border border-white/5 hover:border-[#82C293]/30 transition">
                <div class="flex flex-col sm:flex-row items-start sm:items-center justify-between gap-4">
                    <div class="flex-1">
                        <div class="text-lg font-semibold text-white mb-2">{{ cohort.name }}</div>
                        <div class="flex flex-wrap gap-4 text-sm text-white/60 mb-4">
                            <span class="flex items-center gap-1"><i class="fas fa-calendar"></i> {{ cohort.start_date|date:"M d, Y" }}</span>
                            {% if cohort.discount_percentage %}
                            <span class="flex items-center gap-1"><i class="fas fa-percent"></i> {{ cohort.discount_percentage }}% off</span>
                            {% endif %}
                            <span class="flex items-center gap-1"><i class="fas fa-users"></i> {{ cohort.students.count }} students</span>
                        </div>
                        <div class="flex items-center gap-3">
                            <code class="px-4 py-2 bg-[#04363a] text-[#82C293] rounded-lg text-sm font-mono border border-[#82C293]/30">
                                {{ cohort.promo_code }}
                            </code>
                            <button class="px-4 py-2 text-sm text-white bg-[#254346] hover:bg-[#82C293]/20 rounded-lg transition" onclick="copyToClipboard('{{ cohort.promo_code }}')">
                                <i class="fas fa-copy mr-1"></i> Copy
                            </button>
                        </div>
                    </div>
                </div>
            </div>
            {% endfor %}
        </div>
        {% else %}
        <div class="text-center py-12">
            <i class="fas fa-bullhorn text-5xl text-white/20 mb-4"></i>
            <p class="text-white/60 mb-4 text-lg">No promo codes found</p>
            {% if not is_preview_mode %}
            <button class="px-5 py-3 bg-gradient-to-r from-[#00655F] to-[#82C293] text-white rounded-lg text-sm font-medium hover:opacity-90 transition">
                <i class="fas fa-plus mr-2"></i>Create Your First Promo Code
            </button>
            {% endif %}
        </div>
        {% endif %}
    </div>
    
    <!-- Marketing Materials -->
    <div class="bg-[#04363a]/50 backdrop-blur-sm rounded-xl p-6 sm:p-8 border border-white/10 shadow-lg">
        <h2 class="text-lg sm:text-xl font-bold text-white mb-6 flex items-center gap-2">
            <i class="fas fa-file-download text-[#82C293]"></i>
            Marketing Materials
        </h2>
        
        <div class="grid grid-cols-1 md:grid-cols-2 gap-4 sm:gap-6">
            <div class="bg-[#254346]/50 p-6 rounded-lg border border-white/5 hover:border-[#82C293]/30 transition">
                <div class="flex items-center gap-4 mb-4">
                    <div class="w-12 h-12 rounded-lg bg-[#82C293]/20 flex items-center justify-center">
                        <i class="fas fa-image text-[#82C293] text-xl"></i>
                    </div>
                    <div>
                        <div class="font-semibold text-white">Brand Assets</div>
                        <div class="text-sm text-white/60">Logos, banners, and images</div>
                    </div>
                </div>
                <button class="mt-4 text-sm text-[#82C293] hover:text-[#82C293]/80 font-medium">
                    Download <i class="fas fa-arrow-down ml-1"></i>
                </button>
            </div>
            
            <div class="bg-[#254346]/50 p-6 rounded-lg border border-white/5 hover:border-[#82C293]/30 transition">
                <div class="flex items-center gap-4 mb-4">
                    <div class="w-12 h-12 rounded-lg bg-[#82C293]/20 flex items-center justify-center">
                        <i class="fas fa-file-pdf text-[#82C293] text-xl"></i>
                    </div>
                    <div>
                        <div class="font-semibold text-white">Marketing Kit</div>
                        <div class="text-sm text-white/60">Templates and guidelines</div>
                    </div>
                </div>
                <button class="mt-4 text-sm text-[#82C293] hover:text-[#82C293]/80 font-medium">
                    Download <i class="fas fa-arrow-down ml-1"></i>
                </button>
            </div>
        </div>
    </div>
</div>

<script>
function copyToClipboard(text) {
    navigator.clipboard.writeText(text).then(function() {
        alert('Promo code copied to clipboard!');
    }, function(err) {
        console.error('Failed to copy: ', err);
    });
}
</script>
{% endblock %}
