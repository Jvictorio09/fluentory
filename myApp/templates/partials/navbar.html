<nav class="navbar sticky top-0 bg-transparent backdrop-blur-md z-[1000] transition-all duration-300 border-b border-transparent" style="height: 72px; min-height: 72px; max-height: 72px;">
    <div class="max-w-[1600px] mx-auto px-8 lg:px-20 h-full flex items-center relative">
        <!-- Logo Container - Left side -->
        <div class="flex items-center" style="min-width: 0;">
            <a href="/" class="inline-flex items-center hover:opacity-90 transition-opacity" style="line-height: 0;">
                <img 
                    src="https://res.cloudinary.com/dkjtfjnlf/image/upload/v1766498125/Fluentory-Trsp-LS_xlra0r.png" 
                    alt="Fluentory - Global Learning Platform" 
                    class="w-auto object-contain"
                    style="height: 110px; width: auto; display: block;"
                    loading="eager"
                />
            </a>
        </div>
        
        <!-- Navigation Links - Centered -->
        <div class="hidden lg:flex gap-10 items-center h-full absolute left-1/2 transform -translate-x-1/2">
            <a href="#courses" class="text-white/90 no-underline text-sm font-semibold relative group transition-colors hover:text-[#82C293] flex items-center h-full smooth-scroll">
                <span>Courses</span>
                <span class="absolute bottom-0 left-0 w-0 h-0.5 bg-[#82C293] transition-all duration-300 group-hover:w-full"></span>
            </a>
            <a href="#outcomes" class="text-white/90 no-underline text-sm font-semibold relative group transition-colors hover:text-[#82C293] flex items-center h-full smooth-scroll">
                <span>Outcomes</span>
                <span class="absolute bottom-0 left-0 w-0 h-0.5 bg-[#82C293] transition-all duration-300 group-hover:w-full"></span>
            </a>
            <a href="#proof" class="text-white/90 no-underline text-sm font-semibold relative group transition-colors hover:text-[#82C293] flex items-center h-full smooth-scroll">
                <span>Proof</span>
                <span class="absolute bottom-0 left-0 w-0 h-0.5 bg-[#82C293] transition-all duration-300 group-hover:w-full"></span>
            </a>
            <a href="#pricing" class="text-white/90 no-underline text-sm font-semibold relative group transition-colors hover:text-[#82C293] flex items-center h-full smooth-scroll">
                <span>Pricing</span>
                <span class="absolute bottom-0 left-0 w-0 h-0.5 bg-[#82C293] transition-all duration-300 group-hover:w-full"></span>
            </a>
        </div>
        
        <!-- Right Side Actions -->
        <div class="flex items-center gap-4 h-full ml-auto">
            <div class="relative group" id="language-selector">
                <div class="text-white/90 text-base cursor-pointer flex items-center gap-2 hover:text-[#82C293] transition-colors font-medium">
                    <i class="fas fa-globe text-sm"></i>
                    <span class="text-sm" id="current-language">EN</span>
                    <i class="fas fa-chevron-down text-xs ml-1"></i>
                </div>
                <div class="absolute right-0 top-full mt-2 w-40 bg-[#04363a]/90 backdrop-blur-xl rounded-xl shadow-lg border border-white/10 opacity-0 invisible group-hover:opacity-100 group-hover:visible transition-all duration-200 z-50">
                    <a href="#" class="language-option block px-4 py-2.5 text-sm text-white/80 hover:bg-[#82C293]/20 hover:text-[#82C293] transition-colors rounded-t-xl" data-lang="en" data-code="EN">English</a>
                    <a href="#" class="language-option block px-4 py-2.5 text-sm text-white/80 hover:bg-[#82C293]/20 hover:text-[#82C293] transition-colors" data-lang="es" data-code="ES">Español</a>
                    <a href="#" class="language-option block px-4 py-2.5 text-sm text-white/80 hover:bg-[#82C293]/20 hover:text-[#82C293] transition-colors rounded-b-xl" data-lang="fr" data-code="FR">Français</a>
                </div>
            </div>
            <!-- Global Switch View (visible in header) -->
            {% if request.path != '/' %}
            <div class="relative" id="global-switch-view">
                <button id="switch-view-btn" aria-haspopup="true" aria-expanded="false" aria-controls="switch-view-menu" class="px-3 py-2 rounded-md bg-white/10 hover:bg-white/20 text-white text-sm font-medium flex items-center gap-2 transition-all">
                    <i class="fas fa-exchange-alt"></i>
                    <span>Switch View</span>
                    <i class="fas fa-chevron-down text-xs ml-1" aria-hidden="true"></i>
                </button>
                <div id="switch-view-menu" role="menu" aria-labelledby="switch-view-btn" class="absolute right-0 top-full mt-2 w-48 bg-[#04363a]/95 backdrop-blur-xl rounded-lg shadow-lg border border-white/10 opacity-0 invisible transition-all duration-200 z-50" style="transform-origin: top right;">
                    <a role="menuitem" href="{% url 'dashboard:switch_role' %}?role=admin_dashboard" class="block px-4 py-2 text-sm text-white/80 hover:bg-[#82C293]/20 hover:text-[#82C293]">Admin</a>
                    <a role="menuitem" href="{% url 'dashboard:switch_role' %}?role=student" class="block px-4 py-2 text-sm text-white/80 hover:bg-[#82C293]/20 hover:text-[#82C293]">Student</a>
                    <a role="menuitem" href="{% url 'dashboard:switch_role' %}?role=teacher" class="block px-4 py-2 text-sm text-white/80 hover:bg-[#82C293]/20 hover:text-[#82C293]">Teacher</a>
                    <a role="menuitem" href="{% url 'dashboard:switch_role' %}?role=partner" class="block px-4 py-2 text-sm text-white/80 hover:bg-[#82C293]/20 hover:text-[#82C293]">Partner</a>
                </div>
            </div>
            {% endif %}
            <a href="{% url 'login' %}?show=login" class="text-white/90 no-underline text-[0.95rem] font-semibold relative group transition-colors hover:text-[#82C293] flex items-center h-full">
                <span>Login</span>
                <span class="absolute bottom-0 left-0 w-0 h-0.5 bg-[#82C293] transition-all duration-300 group-hover:w-full"></span>
            </a>
            <a href="{% url 'login' %}?next={% url 'student_placement' %}" class="bg-gradient-to-r from-[#00655F] to-[#82C293] text-white px-6 py-2 rounded-full no-underline text-sm font-medium shadow-[0_4px_12px_rgba(0,101,95,0.25)] hover:opacity-90 hover:shadow-[0_6px_16px_rgba(130,194,147,0.35)] transition-all duration-300 flex items-center transform hover:scale-[1.02]" style="height: 40px; line-height: 1;">Take Placement Test</a>
        </div>
    </div>
</nav>
<script>
document.addEventListener('DOMContentLoaded', function () {
    var btn = document.getElementById('switch-view-btn');
    var menu = document.getElementById('switch-view-menu');
    if (!btn || !menu) return;

    function openMenu(){
        menu.classList.remove('opacity-0','invisible');
        menu.classList.add('opacity-100','visible');
        btn.setAttribute('aria-expanded','true');
    }
    function closeMenu(){
        menu.classList.remove('opacity-100','visible');
        menu.classList.add('opacity-0','invisible');
        btn.setAttribute('aria-expanded','false');
    }

    btn.addEventListener('click', function(e){
        e.stopPropagation();
        var isOpen = btn.getAttribute('aria-expanded') === 'true';
        if (isOpen) closeMenu(); else openMenu();
    });

    // Prevent clicks inside the menu from closing it
    menu.addEventListener('click', function(e){ e.stopPropagation(); });

    // Close on outside click
    document.addEventListener('click', function(){ closeMenu(); });

    // Close on Escape
    document.addEventListener('keydown', function(e){ if(e.key === 'Escape') closeMenu(); });
});
</script>
